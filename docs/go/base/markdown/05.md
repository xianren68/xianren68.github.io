# 05_数组和切片

## 数组

> 可以存储多个同类型值的容器
![数组](../../img/1720e9c1054d5f43~tplv-t2oaga2asx-zoom-in-crop-mark_3024_0_0_0.webp)

### 声明

`var 数组名 [数组容量] 数据类型`

> - 数组只能用来存储一组相同类型的数据结构。
> - 数组需要通过下标来访问，并且有长度和容量
> - 数组有长度限制，访问和复制不能超过数组定义的长度，否则就会下标越界。
> - 数组的长度，用内置函数 `len()`来获取。
> - 数组的容量，用内置函数 `cap()`来获取。

::: code-group

```go [数组声明]
// 数组
func array() {
    // 声明数组
    var a [3]int
    // 根据索引赋值
    a[0] = 5
    // 获取数组长度和容量
    fmt.Println(len(a), cap(a)) // 3 3
}
```

:::

::: tip
数组在初始化时会给没有赋值的位置默认填充对应数据类型的零值，如int类型的0，string的""
:::

### 创建

#### 直接赋值

> 如果知道数组中的元素可以直接赋值，可以小于指定长度，没有数值会自动填充

::: code-group

```go
arr1 := [3]int {1,2,4}
```

:::

#### 指定索引赋值

> 可以给指定的索引位置赋值

::: code-group

```go
arr1 := [3]int {0:1,2:3} //=> arr1[0] = 1 arr1[2] = 3
```

:::

#### 省略数组长度

> 在创建数组时，可以省略数组的长度，让它通过后面的赋值来自动推断

::: code-group

```go [省略数组长度]
arr1 := [...]int {1,2,3}
arr2 := [...]int {1:2,6:7}
```

:::

> 指定索引会按照最大索引来创建数组

::: code-group

```go [创建数组]
func create() {
    arr1 := [...]int{1, 2, 4}
    arr2 := [...]int{1: 3, 7: 9}
    fmt.Println(arr1, arr2)
    /*
        [1 2 4]
        [0 3 0 0 0 0 0 9]
    */
}
```

:::

#### 多维数组

> 以二维为例

::: code-group

```go [二维数组]
// arr := [一维数组的个数][一维数组容量]{{一维数组值},{一维数组值}}
func dimension() {
    arr1 := [3][3]int{{1, 2, 3}, {4, 5, 6}}
    fmt.Println(arr1) // [[1 2 3] [4 5 6] [0 0 0]]
}
```

:::

::: tip
注意：与很多语言不同，go语言的数组是值类型，所以数组变量中存的就是数组中的所有值而非第一个位置的指针，将数组变量赋值给其他变量就是把所有的数据复制了一份过去
:::

::: code-group

```go
func main(){
    a := [3]int{1,2,4}
    b := a 
    b[2] = 3
    fmt.Println(a,b) // [1,2,4] [1,2,3] 不会影响原数组
}

```

```java
public static void main(String[] args) {
        int a[] = {1,2,4};
        int[] b = a;
        a[2] = 3;
        System.out.println(a[2]); // 3
        System.out.println(b[2]); // 3
    }
```

:::
